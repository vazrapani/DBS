<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>동빈 스토어</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link href="styles.css" rel="stylesheet">
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=c3ps2p9f1s"></script>
    <style>
    /* 카테고리별 상품 카드 배경 스타일 */
    .category-section[data-category="red-pepper"] .product-card {
        background-image: url('images/bg_card_red.png');
    }

    .category-section[data-category="perilla"] .product-card {
        background-image: url('images/bg_card_perilla.png');
    }

    .category-section[data-category="processed"] .product-card {
        background-image: url('images/bg_card_goods.png');
    }

    /* 버튼 press 효과 */
    .call-button {
        position: relative;
        transform: translateY(0);
        transition: transform 0.1s ease;
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
        user-select: none;
        will-change: transform;
    }

    .call-button:active {
        transform: translateY(2px);
    }

    /* 버튼 hover 효과 */
    @media (hover: hover) {
        .call-button:hover {
            transform: translateY(0);
        }
    }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 초기 설정
            const productList = document.getElementById('product-list');
            const verticalNav = document.querySelector('.vertical-nav');
            const categorySections = document.querySelectorAll('.category-section');
            const menuLinks = document.querySelectorAll('.menu-link');
            let currentCategory = 'red-pepper';

            // 카테고리 순서 정의
            const categoryOrder = ['red-pepper', 'perilla', 'processed'];

            // 다음/이전 카테고리로 이동하는 함수
            function moveToCategory(direction) {
                const currentIndex = categoryOrder.indexOf(currentCategory);
                let nextIndex;
                
                if (direction === 'next') {
                    nextIndex = currentIndex + 1;
                    if (nextIndex >= categoryOrder.length) return; // 마지막 카테고리면 이동하지 않음
                } else {
                    nextIndex = currentIndex - 1;
                    if (nextIndex < 0) return; // 첫 카테고리면 이동하지 않음
                }

                const nextCategory = categoryOrder[nextIndex];
                const nextSection = document.querySelector(`.category-section[data-category="${nextCategory}"]`);
                if (nextSection) {
                    nextSection.scrollIntoView({ behavior: 'smooth' });
                }
            }

            // 메뉴 활성화 함수
            function updateMenuActive(selectedCategory) {
                // 모든 메뉴 아이템 비활성화
                menuLinks.forEach(link => {
                    link.parentElement.classList.remove('active');
                });
                
                // 선택된 메뉴 아이템 활성화
                const selectedLink = document.querySelector(`.menu-link[data-category="${selectedCategory}"]`);
                if (selectedLink) {
                    selectedLink.parentElement.classList.add('active');
                }
            }

            // 네비게이션 닷 업데이트 함수
            function updateNavigationDots(category) {
                // 현재 카테고리의 상품 카드 수 확인
                const currentSection = document.querySelector(`.category-section[data-category="${category}"]`);
                if (!currentSection) return;
                
                const productCards = currentSection.querySelectorAll('.product-card');
                const cardCount = productCards.length;
                
                // 기존 닷 제거
                const verticalNav = document.querySelector('.vertical-nav');
                verticalNav.innerHTML = '';
                
                // 상품 카드 수만큼 닷 생성
                for (let i = 0; i < cardCount; i++) {
                    const dot = document.createElement('div');
                    dot.className = 'nav-dot';
                    if (i === 0) dot.classList.add('active');
                    dot.addEventListener('click', () => {
                        // 모든 닷 비활성화
                        document.querySelectorAll('.nav-dot').forEach(d => d.classList.remove('active'));
                        // 클릭한 닷 활성화
                        dot.classList.add('active');
                        // 해당 카드로 스크롤
                        productCards[i].scrollIntoView({ behavior: 'smooth' });
                    });
                    verticalNav.appendChild(dot);
                }
            }

            // 스크롤 이벤트 처리
            window.addEventListener('scroll', function() {
                const sections = document.querySelectorAll('.category-section');
                let currentSection = null;
                
                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    const windowCenter = window.innerHeight / 2;
                    
                    if (rect.top <= windowCenter && rect.bottom >= windowCenter) {
                        currentSection = section;
                        const category = section.getAttribute('data-category');
                        
                        // 카테고리가 변경되었을 때만 네비게이션 닷 업데이트
                        if (category !== currentCategory) {
                            currentCategory = category;
                            updateMenuActive(category);
                            updateNavigationDots(category);
                        }
                        
                        // 카드별 네비게이션 닷 활성화 상태 업데이트
                        const cards = section.querySelectorAll('.product-card');
                        const dots = document.querySelectorAll('.nav-dot');
                        
                        cards.forEach((card, index) => {
                            const cardRect = card.getBoundingClientRect();
                            if (cardRect.top <= windowCenter && cardRect.bottom >= windowCenter) {
                                dots.forEach(dot => dot.classList.remove('active'));
                                if (dots[index]) {
                                    dots[index].classList.add('active');
                                }
                            }
                        });
                    }
                });
            });

            // 초기 네비게이션 닷 생성
            updateNavigationDots('red-pepper');
            // 초기 메뉴 활성화
            updateMenuActive('red-pepper');

            // 메뉴 링크 클릭 이벤트
            menuLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const selectedCategory = this.getAttribute('data-category');
                    const selectedSection = document.querySelector(`.category-section[data-category="${selectedCategory}"]`);
                    
                    if (selectedSection) {
                        selectedSection.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            // 메뉴 버튼 클릭 이벤트
            const menuButton = document.querySelector('.menu-button');
            const menuOverlay = document.querySelector('.menu-overlay');

            menuButton.addEventListener('click', function() {
                if (this.classList.contains('active')) {
                    // 활성화된 상태(undo 아이콘)에서 클릭하면 오버레이 닫기
                    this.classList.remove('active');
                    menuOverlay.classList.remove('active');
                    document.body.style.overflow = '';
                } else {
                    // 비활성화된 상태(메뉴 아이콘)에서 클릭하면 오버레이 열기
                    this.classList.add('active');
                    menuOverlay.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            });
        });
    </script>
</head>
<body>
    <div class="app">
        <div class="header-group">
            <header class="top-app-bar">
                <div class="title-medium">
                    <div class="title-wrapper">
                        <h1 class="headline">동빈 스토어</h1>
                        <p class="subheadline">전국 식당 식자재 납품 전문</p>
                    </div>
                </div>
                <div class="menu-button" aria-label="메뉴">
                    <img src="images/icon-menu.svg" alt="메뉴" class="icon-menu">
                    <img src="images/icon-undo.svg" alt="뒤로" class="icon-undo">
                </div>
            </header>
            
            <nav class="navigation-bar">
                <ul class="menu-list">
                    <li class="menu-item active"><a href="#" class="menu-link" data-category="red-pepper">고추가루</a></li>
                    <li class="menu-item"><a href="#" class="menu-link" data-category="perilla">들깨가루</a></li>
                    <li class="menu-item"><a href="#" class="menu-link" data-category="processed">공산품</a></li>
                </ul>
            </nav>
        </div>

        <!-- 세로 네비게이션 -->
        <div class="vertical-nav">
        </div>

        <!-- 컨텐츠 영역 -->
        <main>
            <div id="product-list">
                <!-- 고추가루 카테고리 -->
                <div class="category-section active" data-category="red-pepper">
                    <!-- 첫 번째 카드 -->
                    <div class="product-card" data-id="red1">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">고추가루 상품 1</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 두 번째 카드 -->
                    <div class="product-card" data-id="red2">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">고추가루 상품 2</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 세 번째 카드 -->
                    <div class="product-card" data-id="red3">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">고추가루 상품 3</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 네 번째 카드 -->
                    <div class="product-card" data-id="red4">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">고추가루 상품 4</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 다섯 번째 카드 -->
                    <div class="product-card" data-id="red5">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">고추가루 상품 5</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 들깨가루 카테고리 -->
                <div class="category-section" data-category="perilla">
                    <!-- 카드 1 -->
                    <div class="product-card" data-id="perilla1">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">들깨가루 상품 1</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 2 -->
                    <div class="product-card" data-id="perilla2">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">들깨가루 상품 2</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 3 -->
                    <div class="product-card" data-id="perilla3">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">들깨가루 상품 3</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 4 -->
                    <div class="product-card" data-id="perilla4">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">들깨가루 상품 4</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 5 -->
                    <div class="product-card" data-id="perilla5">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">들깨가루 상품 5</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 6 -->
                    <div class="product-card" data-id="perilla6">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">들깨가루 상품 6</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 공산품 카테고리 -->
                <div class="category-section" data-category="processed">
                    <!-- 카드 1 -->
                    <div class="product-card" data-id="goods1">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">공산품 상품 1</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 2 -->
                    <div class="product-card" data-id="goods2">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">공산품 상품 2</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 3 -->
                    <div class="product-card" data-id="goods3">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">공산품 상품 3</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 4 -->
                    <div class="product-card" data-id="goods4">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">공산품 상품 4</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 5 -->
                    <div class="product-card" data-id="goods5">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">공산품 상품 5</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 6 -->
                    <div class="product-card" data-id="goods6">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">공산품 상품 6</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 7 -->
                    <div class="product-card" data-id="goods7">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">공산품 상품 7</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 8 -->
                    <div class="product-card" data-id="goods8">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">공산품 상품 8</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 9 -->
                    <div class="product-card" data-id="goods9">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">공산품 상품 9</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 카드 10 -->
                    <div class="product-card" data-id="goods10">
                        <div class="product-image"></div>
                        <div class="product-info">
                            <div class="product-content">
                                <h3 class="product-title">공산품 상품 10</h3>
                                <div class="price-group">
                                    <div class="product-price">
                                        <span class="amount">500ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">35,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="amount">1000ml</span>
                                        <span class="colon">:</span>
                                        <span class="price">60,000</span>
                                        <span class="unit">원</span>
                                    </div>
                                </div>
                                <p class="product-description">동빈스토어에서 추천하는 상품입니다. 가성비 높은 원료를 사용하여 저렴한 가격에 높은 품질을 보장합니다.
한정수량이니 서두르세요.</p>
                            </div>
                            <div class="product-buttons">
                                <div class="buttons-content">
                                    <a href="tel:010-9002-0797" class="call-button call-button-1">
                                        <div class="button-icon">
                                            <img src="images/icon-call.svg" alt="전화 아이콘">
                                        </div>
                                        <span>전화 문의</span>
                                    </a>
                                    <a href="https://open.kakao.com/o/shaHxdsh" target="_blank" class="call-button call-button-2">
                                        <div class="button-icon">
                                            <img src="images/icon-kakao.svg" alt="카카오톡 아이콘">
                                        </div>
                                        <span>카톡 문의</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <!-- 이미지 오버레이 -->
    <div class="image-overlay">
        <div class="close-button">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="#F7F9F4" fill-opacity="0.9"/>
            </svg>
        </div>
        <div class="enlarged-image"></div>
    </div>

    <!-- 메뉴 오버레이 -->
    <div class="menu-overlay">
        <div class="menu-sections">
            <div class="menu-section" data-section="map">
                <div class="section-header">
                    <span class="section-title">찾아오시는 길</span>
                    <img src="images/icon-arrow-down.svg" alt="펼치기" class="icon-arrow">
                </div>
                <div class="section-content">
                    <div class="map-container">
                        <div id="map" style="width:100%;height:250px;border-radius:4px;"></div>
                    </div>
                </div>
            </div>
            <div class="menu-section">
                <div class="section-header">
                    <span class="section-title">현장 사진</span>
                    <img src="images/icon-arrow-down.svg" alt="펼치기" class="icon-arrow">
                </div>
                <div class="section-content">
                    <div class="photo-gallery">
                        <div class="gallery-container" id="galleryContainer">
                            <!-- 이미지는 JavaScript로 동적 로드됩니다 -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="menu-section">
                <a href="https://www.instagram.com/midas_21_com/" target="_system" class="section-header no-expand">
                    <span class="section-title">인스타그램</span>
                    <img src="images/icon-link.svg" alt="바로가기" class="icon-arrow" width="24" height="24">
                </a>
            </div>
        </div>
    </div>
    <script>
        // 이미지 클릭 이벤트 처리
        document.querySelectorAll('.product-image').forEach(image => {
            image.addEventListener('click', function() {
                const overlay = document.querySelector('.image-overlay');
                const enlargedImage = overlay.querySelector('.enlarged-image');
                
                // 현재 클릭된 이미지의 배경 이미지 URL 가져오기
                const bgImage = window.getComputedStyle(this).backgroundImage;
                
                // 확대된 이미지에 같은 배경 이미지 설정
                enlargedImage.style.backgroundImage = bgImage;
                
                // 오버레이 표시
                overlay.classList.add('active');
                
                // body 스크롤 막기
                document.body.style.overflow = 'hidden';
            });
        });

        // 오버레이 클릭 시 닫기
        document.querySelector('.image-overlay').addEventListener('click', function() {
            this.classList.remove('active');
            // body 스크롤 다시 활성화
            document.body.style.overflow = '';
        });
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // 사용자 환경 감지
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
        const isAndroid = /Android/.test(navigator.userAgent);
        const isMobile = isIOS || isAndroid;

        // 전화 버튼 처리
        document.querySelectorAll('.call-button-1').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const phoneNumber = '010-9002-0797';
                
                if (isMobile) {
                    window.location.href = `tel:${phoneNumber}`;
                } else {
                    navigator.clipboard.writeText(phoneNumber)
                        .then(() => alert(`전화번호가 복사되었습니다: ${phoneNumber}`));
                }
            });
        });

        // 카카오톡 버튼 처리
        document.querySelectorAll('.call-button-2').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const kakaoUrl = 'https://open.kakao.com/o/shaHxdsh';
                
                // 새 창에서 열기 (하이브리드 앱 환경 고려)
                window.open(kakaoUrl, '_system');
            });
        });
    });
    </script>
    <script>
    // 드래그 관련 변수
    let touchStartX = 0;
    let touchStartY = 0;
    let currentCard = null;
    let isHorizontalDrag = false;
    const DRAG_THRESHOLD = 50;
    const DIRECTION_LOCK_THRESHOLD = 10;

    // 터치 시작
    function handleTouchStart(e) {
        const card = e.target.closest('.product-card');
        if (!card) return;

        touchStartX = e.touches[0].clientX;
        touchStartY = e.touches[0].clientY;
        currentCard = card;
        isHorizontalDrag = false;
        
        // 트랜지션 일시 제거
        currentCard.style.transition = 'none';
    }

    // 터치 이동
    function handleTouchMove(e) {
        if (!currentCard || !touchStartX) return;

        const touchCurrentX = e.touches[0].clientX;
        const touchCurrentY = e.touches[0].clientY;
        const diffX = touchCurrentX - touchStartX;
        const diffY = touchCurrentY - touchStartY;

        // 스크롤 방향 결정
        if (!isHorizontalDrag) {
            if (Math.abs(diffX) > DIRECTION_LOCK_THRESHOLD || Math.abs(diffY) > DIRECTION_LOCK_THRESHOLD) {
                isHorizontalDrag = Math.abs(diffX) > Math.abs(diffY);
                if (!isHorizontalDrag) {
                    resetDrag();
                    return;
                }
            }
        }

        // 수평 드래그로 판단된 경우
        if (isHorizontalDrag) {
            e.preventDefault();
            // 드래그 이동 범위를 ±35px로 제한
            const limitedDiffX = Math.max(Math.min(diffX, 35), -35);
            currentCard.style.transform = `translateX(${limitedDiffX}px)`;
        }
    }

    // 터치 종료
    function handleTouchEnd(e) {
        if (!currentCard || !isHorizontalDrag) return;

        const touchEndX = e.changedTouches[0].clientX;
        const diffX = touchEndX - touchStartX;
        const currentCategory = getCurrentCategory();

        // 트랜지션 복원 - 스프링 효과를 위한 트랜지션 수정
        currentCard.style.transition = 'transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)';

        if (Math.abs(diffX) > DRAG_THRESHOLD) {
            let targetCategory = null;
            
            // 드래그 방향에 따른 카테고리 전환
            if (diffX < 0) {  // 왼쪽으로 드래그: 이전 카테고리로
                switch(currentCategory) {
                    case 'perilla':
                        targetCategory = 'red-pepper';
                        break;
                    case 'processed':
                        targetCategory = 'perilla';
                        break;
                    case 'red-pepper':  // 순환 구조를 위한 추가
                        targetCategory = 'processed';
                        break;
                }
            } else if (diffX > 0) {  // 오른쪽으로 드래그: 다음 카테고리로
                switch(currentCategory) {
                    case 'red-pepper':
                        targetCategory = 'perilla';
                        break;
                    case 'perilla':
                        targetCategory = 'processed';
                        break;
                    case 'processed':  // 순환 구조를 위한 추가
                        targetCategory = 'red-pepper';
                        break;
                }
            }

            if (targetCategory) {
                // 스프링 효과와 함께 카테고리 전환
                currentCard.style.transform = 'translateX(0)';
                setTimeout(() => {
                    switchCategory(targetCategory);
                    resetDrag();
                }, 500);
            } else {
                // 유효하지 않은 드래그는 스프링 효과와 함께 원위치로
                currentCard.style.transform = 'translateX(0)';
                setTimeout(resetDrag, 500);
            }
        } else {
            // 드래그가 임계값을 넘지 않으면 스프링 효과와 함께 원위치로
            currentCard.style.transform = 'translateX(0)';
            setTimeout(resetDrag, 500);
        }
    }

    // 드래그 상태 초기화
    function resetDrag() {
        if (!currentCard) return;
        currentCard.style.transform = '';
        currentCard.style.transition = '';
        currentCard.classList.remove('drag-left', 'drag-right');
        currentCard = null;
        touchStartX = 0;
        isHorizontalDrag = false;
    }

    // 현재 카테고리 가져오기
    function getCurrentCategory() {
        const activeSection = document.querySelector('.category-section.active');
        return activeSection ? activeSection.getAttribute('data-category') : null;
    }

    // 이벤트 리스너 등록
    document.addEventListener('DOMContentLoaded', () => {
        const productCards = document.querySelectorAll('.product-card');
        productCards.forEach(card => {
            card.addEventListener('touchstart', handleTouchStart, { passive: true });
            card.addEventListener('touchmove', handleTouchMove, { passive: false });
            card.addEventListener('touchend', handleTouchEnd, { passive: true });
        });
    });

    // 카테고리 전환 함수
    function switchCategory(targetCategory) {
        // 현재 활성화된 카테고리 섹션 찾기
        const currentSection = document.querySelector('.category-section.active');
        if (currentSection) {
            currentSection.classList.remove('active');
        }

        // 새로운 카테고리 섹션 활성화
        const targetSection = document.querySelector(`.category-section[data-category="${targetCategory}"]`);
        if (targetSection) {
            targetSection.classList.add('active');
            targetSection.scrollIntoView({ behavior: 'smooth' });
            
            // 메뉴 활성화 상태 업데이트
            updateMenuActive(targetCategory);
            // 네비게이션 닷 업데이트
            updateNavigationDots(targetCategory);
        }
    }
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 갤러리 이미지 동적 로드 함수
            async function loadGalleryImages() {
                const galleryContainer = document.getElementById('galleryContainer');
                if (!galleryContainer) return;

                try {
                    // 이미지 파일 목록을 가져오기 위한 fetch 요청
                    const response = await fetch('/images/gallery/');
                    if (!response.ok) throw new Error('갤러리 로드 실패');
                    
                    const text = await response.text();
                    
                    // HTML 응답을 파싱하여 이미지 파일 찾기
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(text, 'text/html');
                    const links = Array.from(doc.querySelectorAll('a'))
                        .filter(a => a.href.match(/DBS-gallery-\d{3}\.jpg$/i))
                        .map(a => a.href.split('/').pop())
                        .sort();

                    // 갤러리 아이템 생성
                    links.forEach((filename, index) => {
                        const galleryItem = document.createElement('div');
                        galleryItem.className = 'gallery-item';
                        
                        const img = document.createElement('img');
                        img.src = `images/gallery/${filename}`;
                        img.alt = `현장 사진 ${index + 1}`;
                        
                        // 이미지 클릭 시 확대 보기
                        img.addEventListener('click', function() {
                            const overlay = document.querySelector('.image-overlay');
                            const enlargedImage = overlay.querySelector('.enlarged-image');
                            enlargedImage.style.backgroundImage = `url(${this.src})`;
                            overlay.classList.add('active');
                            document.body.style.overflow = 'hidden';
                        });
                        
                        galleryItem.appendChild(img);
                        galleryContainer.appendChild(galleryItem);
                    });
                } catch (error) {
                    console.error('갤러리 로드 중 오류:', error);
                }
            }

            // 갤러리 섹션이 열릴 때 이미지 로드
            const gallerySection = document.querySelector('.menu-section:nth-child(2)');
            if (gallerySection) {
                const header = gallerySection.querySelector('.section-header');
                header.addEventListener('click', function() {
                    if (!gallerySection.classList.contains('active')) {
                        loadGalleryImages();
                    }
                });
            }
        });
    </script>
    <script>
    window.navermap_authFailure = function() {
        console.error('네이버 지도 API 인증 실패');
        alert('지도 로딩 중 오류가 발생했습니다. 잠시 후 다시 시도해주세요.');
    };

    function initMap() {
        try {
            console.log('지도 초기화 시작');
            var mapOptions = {
                center: new naver.maps.LatLng(37.5666805, 126.9784147),
                zoom: 16,
                scaleControl: false,
                logoControl: false,
                mapDataControl: false,
                zoomControl: true,
                minZoom: 6,
                maxZoom: 21
            };
            
            var map = new naver.maps.Map('map', mapOptions);
            console.log('지도 객체 생성 완료');
            
            var marker = new naver.maps.Marker({
                position: new naver.maps.LatLng(37.5666805, 126.9784147),
                map: map
            });
            console.log('마커 생성 완료');
        } catch (error) {
            console.error('지도 초기화 중 오류 발생:', error);
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        const mapSection = document.querySelector('.menu-section[data-section="map"]');
        if (mapSection) {
            const header = mapSection.querySelector('.section-header');
            header.addEventListener('click', function() {
                if (!mapSection.classList.contains('active')) {
                    setTimeout(initMap, 500);
                }
            });
        }
    });
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // 메뉴 섹션 클릭 이벤트
        const sections = document.querySelectorAll('.menu-section');
        sections.forEach(section => {
            const header = section.querySelector('.section-header');
            if (!header.classList.contains('no-expand')) {  // no-expand 클래스가 없는 경우에만 토글 기능 추가
                const content = section.querySelector('.section-content');
                
                header.addEventListener('click', () => {
                    const isActive = section.classList.contains('active');
                    
                    // 다른 섹션들 닫기
                    sections.forEach(s => {
                        if (s !== section && s.classList.contains('active')) {
                            s.classList.remove('active');
                            s.querySelector('.section-content').style.height = '0';
                        }
                    });
                    
                    // 현재 섹션 토글
                    section.classList.toggle('active');
                    
                    if (!isActive) {
                        content.style.height = content.scrollHeight + 'px';
                        // 지도가 있는 섹션이 열릴 때 지도 초기화
                        if (section.querySelector('#map')) {
                            setTimeout(initMap, 500);
                        }
                    } else {
                        content.style.height = '0';
                    }
                });
            }
        });
    });
    </script>
    <script>
    async function updateStaticCards() {
        const categories = ['red-pepper', 'perilla', 'processed'];
        for (const category of categories) {
            const res = await fetch(`/api/products/${category}`);
            const data = await res.json();
            if (!data.success || !data.products) continue;
            data.products.forEach((product, idx) => {
                // id 매칭: 예시로 red1, perilla1, goods1 등으로 가정
                let cardId = '';
                if (category === 'red-pepper') cardId = `red${idx+1}`;
                if (category === 'perilla') cardId = `perilla${idx+1}`;
                if (category === 'processed') cardId = `goods${idx+1}`;
                const card = document.querySelector(`.category-section[data-category='${category}'] .product-card[data-id='${cardId}']`);
                if (!card) return;
                // 제목
                const titleEl = card.querySelector('.product-title');
                if (titleEl) titleEl.textContent = product.title;
                // 설명
                const descEl = card.querySelector('.product-description');
                if (descEl) descEl.textContent = product.description || '';
                // 가격
                const priceGroup = card.querySelector('.price-group');
                if (priceGroup && product.prices) {
                    priceGroup.innerHTML = '';
                    product.prices.forEach(p => {
                        priceGroup.innerHTML += `<div class='product-price'><span class='amount'>${p.amount}</span><span class='colon'>:</span><span class='price'>${p.price}</span><span class='unit'>원</span></div>`;
                    });
                }
                // 이미지 (배경 이미지 방식일 경우는 별도 처리 필요)
                const imgEl = card.querySelector('.product-image');
                if (imgEl && product.image) {
                    imgEl.style.backgroundImage = `url('/${product.image}')`;
                }
            });
        }
    }
    document.addEventListener('DOMContentLoaded', updateStaticCards);
    </script>
</body>
</html> 